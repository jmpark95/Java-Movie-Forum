<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8">
		<title>The Movie Forum</title>
		
    
	</head>

	<div th:insert="util :: header"></div>

	<body>
		<div style="
    margin-top: 80px;
    display: flex;
    justify-content: center;
    gap: 50px;
">
			<form th:action="@{'/movie/' + ${movie.title}} + '/addfavourite'" th:object="${movie}" method="POST">
			    <input style="cursor:pointer; margin-bottom: 0;   background-color: transparent; padding:10px; border-width: 1px; border-radius: 6px" type="submit" value="Add to favourites" />
			</form>
			
			<form th:action="@{'/movie/' + ${movie.title}} + '/addwatchlist'" th:object="${movie}" method="POST">	    
			    <input style="cursor:pointer; margin-bottom: 0;    background-color: transparent; padding:10px; border-width: 1px; border-radius: 6px" type="submit" value="Add to watchlist" />
			</form>
		</div>
		
		
		<table th:object=${movie} style="margin: 0 auto; padding-bottom: 20px;">
					<h1 style="text-align:center; font-size:70px;" th:text="*{title}"></h1>
	
					<tr>
						<td align="right"><h3>Year of Release:</h3></td>
						<td align="left"><div th:text="*{releaseYear}" ></td>
					</tr>
					
					<tr>
						<td align="right"><h3>Genre:</h3></td>
						<td align="left"><div th:text="*{genre}" ></td>
					</tr>
					
					<tr>
						<td align="right"><h3>Director:</h3></td>
						<td align="left"><div th:text="*{director}" ></td>
					</tr>
					
					<tr>
						<td align="right"><h3>Cast:</h3></td>
						<td align="left"><div th:text="*{actors}" ></td>
					</tr>
					
					<tr>
						<td align="right"><h3>Plot:</h3></td>
						<td align="left"><div th:text="*{plot}" ></td>
					</tr>
					
					<tr>
						<td align="right"><h3>Rating:</h3></td>
						<td align="left"><div th:text="*{rating}" ></td>
					</tr>	
				</table>
		
	
		
		<div style="
    text-align: center;
    padding-top: 100px;
    padding-bottom:100px;
">
			<h3>Leave a review</h3>
			<form th:action="@{'/movie/' + ${movie.title}}" th:object="${review}" method="POST">
				
				<label style="vertical-align:top;">Review: </label><textarea rows="3" cols="60" th:field="*{reviewContent}"></textarea>
				<div><label>Rating: </label><input style="width:50px; margin-bottom:10px;" size="1" type="number" step="0.1" th:field="*{rating}" /></div>
				
				<input style="cursor:pointer; margin-bottom: 0; margin-top:10px;   background-color: transparent; padding: 7px 20px; border-width: 1px; border-radius: 6px" type="submit" value="Sumbit" />
			</form>
		</div>
			
		<div style="padding-bottom: 300px;">
			<h1 style="padding-left:400px;">All reviews</h1>
			<div style="margin:auto; width: 70%; border-top: 1px solid; border-bottom: 1px solid; padding-bottom:30px; padding-top:30px" th:each="review : ${reviews}">
				<div style="padding-bottom: 15px"><h3 style="display:inline;">Review by: </h3> <h3 style="display:inline" th:text="${review.user.username}"></h3></div>
				<div style="padding-bottom: 15px" th:text="${review.reviewContent}"></div>
				<span>Rates this movie: </span><span th:text="${review.rating}"></span> 
			</div>
		</div>
		

	</body>
</html>








