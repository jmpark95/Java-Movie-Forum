<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8">
		<title>The Movie Forum</title>
		
    
	</head>

	<div th:insert="util :: header"></div>

	<body>
		<div style="
    margin-top: 80px;
    display: flex;
    justify-content: center;
    gap: 50px;
">
			<form th:action="@{'/movie/' + ${movie.title}} + '/addfavourite'" th:object="${movie}" method="POST">
			    <input style="cursor:pointer; margin-bottom: 0;   background-color: transparent; padding:10px; border-width: 1px; border-radius: 6px" type="submit" value="Add to favourites" />
			</form>
			
			<form th:action="@{'/movie/' + ${movie.title}} + '/addwatchlist'" th:object="${movie}" method="POST">	    
			    <input style="cursor:pointer; margin-bottom: 0;    background-color: transparent; padding:10px; border-width: 1px; border-radius: 6px" type="submit" value="Add to watchlist" />
			</form>
		</div>
		
		
		
		<div th:object=${movie} style="display: flex;flex-direction: column;justify-content:center;align-items: center;">
			<h1 th:text=*{title}></h1>
			<div>Year of release: <span th:text=*{releaseYear}></div>
			<div>Genre: <span th:text=*{genre}></div>
			<div>Average rating: <span th:text=*{rating}></div>
		</div>
		
		
		
		<div style="
    text-align: center;
    padding-top: 50px;
">
			<h3>Leave a review</h3>
			<form th:action="@{'/movie/' + ${movie.title}}" th:object="${review}" method="POST">
				
				<label style="vertical-align:top;">Review: </label><textarea rows="3" cols="60" th:field="*{reviewContent}"></textarea>
				<div><label>Rating: </label><input style="width:50px; margin-bottom:10px;" size="1" type="number" step="0.1" th:field="*{rating}" /></div>
				
				<input style="cursor:pointer; margin-bottom: 0; margin-top:10px;   background-color: transparent; padding: 7px 20px; border-width: 1px; border-radius: 6px" type="submit" value="Sumbit" />
			</form>
		</div>
			

		<h1 style="padding-left:400px;">All reviews</h1>
		<div style="margin:auto; width: 70%; border-top: 1px solid; border-bottom: 1px solid; padding-bottom:30px; padding-top:30px" th:each="review : ${reviews}">
			<div style="padding-bottom: 15px"><h3 style="display:inline;">Review by: </h3> <h3 style="display:inline" th:text="${review.user.username}"></h3></div>
			<div style="padding-bottom: 15px" th:text="${review.reviewContent}"></div>
			<span>Rates this movie: </span><span th:text="${review.rating}"></span> 
		</div>

	</body>
</html>








